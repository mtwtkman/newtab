const STORAGE_KEY="newtab-bookmarks";function getValue(t){return localStorage.getItem(t)||null}function getJsonValue(t,e){const o=getValue(t);if(o===null){return e}return JSON.parse(o)}function setJsonValue(t,e){localStorage.setItem(t,JSON.stringify(e))}function fetchBookmarks(){return getJsonValue(STORAGE_KEY,[])}function saveBookmarks(t){return setJsonValue(STORAGE_KEY,t)}function exportBookmarks(){const t=getValue(STORAGE_KEY);const e=new Blob([t],{type:"application/json"});const o=URL.createObjectURL(e);const n=document.createElement("a");n.setAttribute("href",o);n.setAttribute("download","newtab-bookmarks.json");n.style.display="none";n.click();URL.revokeObjectURL(o)}window.App=function(t){const e=document.getElementById(t);const o=Elm.Main.init({node:e,flags:fetchBookmarks()});o.ports.updateBookmarks.subscribe(t=>{saveBookmarks(t)});o.ports.exportBookmarks.subscribe(t=>{exportBookmarks()})};